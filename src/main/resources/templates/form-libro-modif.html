<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head th:replace="/fragments/head :: head">

</head>

<body>
    <div th:replace="/fragments/navbar :: userNav"></div>

    <main>
        <!--BACKGROUND-->
        <section class="py-0  text-center container-xxl">
            <div class="row ">
                <section id="feat"><br>

                    <div class="row justify-content-center">
                        <div class="flex-container col-md-4 text-light">
                            <div>
                                <h2 class="fw-bold">Modificar Libro</h2>
                                <hr class="my-2 text-white rounded" />
                                <br>
                                <form th:action="@{/libro/modificar/__${libro.id}__}" method="POST"
                                    enctype="multipart/form-data">

                                    <card th:if="${exito}!=null" class="text-white  mb-2">
                                        <div class="card-body bg-success">
                                            <h5 class="card-title">Exito</h5>
                                            <p class="card-text mb-2" th:text="${exito}"></p>
                                        </div>
                                    </card>
                                    <card th:if="${error}!=null" class="text-white mb-2">
                                        <div class="card-body bg-danger">
                                            <h5 class="card-title">Error</h5>
                                            <p class="card-text mb-2" th:text="${error}"></p>
                                        </div>
                                    </card>

                                    <input hidden th:value="${id}" name="id">

                                    <label class="mt-3">•Titulo</label> <input th:value="${libro.titulo}" type="text"
                                        class="form-control" name="titulo" placeholder="Titulo del libro">



                                    <label class="mt-3">•Año</label> <input th:value="${libro.anio}" type="text"
                                        class="form-control" name="anio" placeholder="Año de la publicación">


                                    <label class="mt-3">•Ejemplares</label> <input th:value="${libro.ejemplares}"
                                        type="text" class="form-control" name="ejemplares"
                                        placeholder="Cantidad de ejemplares totales de la publicación">


                                    <label class="mt-3">•Ejemplares Prestados</label> <input
                                        th:value="${libro.ejemplaresPrestados}" type="text" class="form-control"
                                        name="ejemplaresPrestados" placeholder="Número de ejemplares prestados">


                                    <label class="mt-3">•Autor</label>
                                    <select class="form-select form-select-sm" name="idAutor">
                                        <option selected>Seleccionar un autor</option>
                                        <option th:each="autor : ${autores}" th:value="${autor.id}"
                                            th:text="${autor.nombre}"></option>
                                    </select>

                                    <label class="mt-3">•Editorial</label>
                                    <select class="form-select form-select-sm" name="idEditorial">
                                        <option selected>Seleccionar una editorial</option>
                                        <option th:each="editorial : ${editoriales}" th:value="${editorial.id}"
                                            th:text="${editorial.nombre}">
                                        </option>
                                    </select>

                                    <label class="mt-3">Portada</label>
                                    <input type="file" class="form-control" name="archivo" />

                                    <label class="mt-3">Review</label>
                                    <textarea id="reviewLibro" class="form-control" aria-label="With textarea"
                                        name="review"></textarea>
                                    <br>


                                    <button type="submit" class="btn btn-primary ">Guardar</button>
                                    <button type="button" class="btn btn-danger "><a
                                            th:href="@{/libro/lista}">volver</a></button>

                                </form>

                            </div>
                        </div>
                    </div>
                    <br>
                </section>
            </div>
        </section>
    </main>

    <footer>
        <div th:replace="/fragments/footer :: myFoot"></div>
    </footer>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>

</body>

</html>